{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// Функція для виконання HTTP-запиту до сервісу Pixabay\nexport function fetchImages(query) {\n  const apiKey = \"39588460-df52399cf23d63ffd2a80219a\";\n  // URL для HTTP-запиту з використанням вказаних параметрів\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n  // Виконуємо HTTP-запит та повертаємо обіцянку\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        // Обробляємо випадок невдалого HTTP-запиту\n        throw new Error(\"Failed to fetch images\");\n      }\n      // Повертаємо відповідь у форматі JSON\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        // Якщо немає результатів, повертаємо порожній масив\n        return [];\n      }\n      // Повертаємо масив зображень\n      return data.hits;\n    })\n    .catch(error => {\n      // Обробляємо помилки\n      console.error(\"Error fetching images:\", error);\n      // Повертаємо порожній масив в разі помилки\n      return [];\n    });\n};\n\n  \n\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function clearGallery() {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n};\n\nexport function renderImages(images) {\n    const gallery = document.querySelector(\".gallery\");\n // Генеруємо розмітку для кожного елемента галереї\n    gallery.insertAdjacentHTML(\"beforeend\", galleryItemsMarkup(images));\n\n    // Підключаємо бібліотеку і вказуємо затримку підпису зображення з атрибуту alt\nconst lightbox = new SimpleLightbox('.gallery a', { captionDelay: 250,\n    captionsData: 'alt', // Використовуємо атрибут alt як джерело підписів\n});\n\n      // Оновлюємо галерею після додавання нових елементів\n    lightbox.refresh();\n    \nfunction galleryItemsMarkup(arr) {\n    return arr\n        .map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n  <li class=\"gallery-item\">\n     <a class=\"gallery-link\" href=\"${largeImageURL}\">\n      <img class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n      loading=\"lazy\"\n      />\n     </a>\n     <ul class=\"image-details\">\n       <li class=\"activities\"><span class=\"details\">Likes</span> ${likes}</li>\n       <li class=\"activities\"><span class=\"details\">Views</span> ${views}</li>\n       <li class=\"activities\"><span class=\"details\">Comments</span> ${comments}</li>\n       <li class=\"activities\"><span class=\"details\">Downloads</span> ${downloads}</li>\n     </ul>\n  </li>`)\n    .join('');\n};\n\n\n};\n\n\n\n\n\n\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { clearGallery, renderImages } from \"./js/render-functions\"\n\n\n\n// Отримуємо посилання на форму та список галереї за їх ідентифікаторами\nconst searchForm = document.getElementById(\"search-form\");\n// Додаємо обробник події \"submit\" до форми\nsearchForm.addEventListener(\"submit\", onFormSubmit);\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // Приховуємо індикатор завантаження при завантаженні сторінки\n  hideLoader();\n});\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  // Отримуємо значення текстового поля пошуку\n  const searchInput = document.getElementById(\"search-input\");\n  // Видаляємо зайві пробіли з початку та кінця рядка\n  const query = searchInput.value.trim();\n  // Перевіряємо, чи не є поле пошуку порожнім\n   \n  if (query !== \"\") {\n    // Показуємо індикатор завантаження\n      showLoader();\n    // Виконуємо HTTP-запит за допомогою функції fetchImages\n    fetchImages(query)\n      .then(images => {\n        //Очищуємо галерею\n        clearGallery();\n        //Очищуємо поле інпуту\n        searchInput.value = \"\";\n        \n        if (images.length === 0) {\n          // Виводимо повідомлення про відсутність зображень\n          iziToast.info({\n            title: \"Information\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            position: \"topRight\",\n            backgroundColor: \"red\",\n            maxWidth: \"500px\"\n          });\n        } else {\n         \n          renderImages(images);\n        };\n      })\n      .catch(error => {\n        console.error(\"Error fetching images:\", error);\n        // Приховуємо індикатор завантаження в разі помилки\n        hideLoader();\n        // Очищаємо значення пошукового поля\n        searchInput.value = \"\";\n      })\n      .finally(() => {\n        // Очищаємо значення пошукового поля незалежно від результату\n        searchInput.value = \"\";\n        // Приховуємо індикатор завантаження\n        hideLoader();\n      });\n  }\n};\n\nfunction showLoader() {\n  // Додати код для показу індикатора завантаження\n  const loader = document.querySelector(\".loader\");\n  loader.style.display = \"block\";\n};\n\nfunction hideLoader() {\n  // Додати код для приховування індикатора завантаження\n const loader = document.querySelector(\".loader\");\n  loader.style.display = \"none\";\n};\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n});\n\n\n\n\n\n\n"],"names":["fetchImages","query","url","response","data","error","clearGallery","gallery","renderImages","images","galleryItemsMarkup","SimpleLightbox","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","onFormSubmit","hideLoader","event","searchInput","showLoader","iziToast","loader"],"mappings":"6vBACO,SAASA,EAAYC,EAAO,CAGjC,MAAMC,EAAM,qEAA4CD,CAAK,2DAE7D,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GAEZ,MAAM,IAAI,MAAM,wBAAwB,EAG1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACAA,EAAK,KAAK,SAAW,EAEhB,GAGFA,EAAK,IACb,EACA,MAAMC,IAEL,QAAQ,MAAM,yBAA0BA,CAAK,EAEtC,GACR,CACL,CCzBO,SAASC,GAAe,CAC3B,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CAEO,SAASC,EAAaC,EAAQ,CACjB,SAAS,cAAc,UAAU,EAEzC,mBAAmB,YAAaC,EAAmBD,CAAM,CAAC,EAGrD,IAAIE,EAAe,aAAc,CAAE,aAAc,IAC9D,aAAc,KAClB,CAAC,EAGY,QAAO,EAEpB,SAASD,EAAmBE,EAAK,CAC7B,OAAOA,EACF,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,qCAEtDL,CAAa;AAAA;AAAA,aAErCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,mEAKkDC,CAAK;AAAA,mEACLC,CAAK;AAAA,sEACFC,CAAQ;AAAA,uEACPC,CAAS;AAAA;AAAA,QAExE,EACH,KAAK,EAAE,CACZ,CAGA,CChCA,MAAMC,EAAa,SAAS,eAAe,aAAa,EAExDA,EAAW,iBAAiB,SAAUC,CAAY,EAElD,SAAS,iBAAiB,mBAAoB,UAAW,CAEvDC,GACF,CAAC,EAED,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMC,EAAc,SAAS,eAAe,cAAc,EAEpDvB,EAAQuB,EAAY,MAAM,KAAI,EAGhCvB,IAAU,KAEVwB,IAEFzB,EAAYC,CAAK,EACd,KAAKQ,GAAU,CAEdH,IAEAkB,EAAY,MAAQ,GAEhBf,EAAO,SAAW,EAEpBiB,EAAS,KAAK,CACZ,MAAO,cACP,QAAS,2EACT,SAAU,WACV,gBAAiB,MACjB,SAAU,OACtB,CAAW,EAGDlB,EAAaC,CAAM,EAEtB,EACA,MAAMJ,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAE7CiB,IAEAE,EAAY,MAAQ,EAC5B,CAAO,EACA,QAAQ,IAAM,CAEbA,EAAY,MAAQ,GAEpBF,GACR,CAAO,EAEP,CAEA,SAASG,GAAa,CAEpB,MAAME,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEA,SAASL,GAAa,CAErB,MAAMK,EAAS,SAAS,cAAc,SAAS,EAC9CA,EAAO,MAAM,QAAU,MACzB,CAEiB,IAAIhB,EAAe,aAAc,CAChD,aAAc,KAChB,CAAC"}